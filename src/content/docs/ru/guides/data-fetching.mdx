---
title: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
description: –£–∑–Ω–∞–π—Ç–µ –∫–∞–∫ –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å Astro –∏—Å–ø–æ–ª—å–∑—É—è fetch API.
i18nReady: true
---

`.astro` —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ —á—Ç–æ–±—ã –ø–æ–º–æ—á—å —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –≤–∞—à–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.

## `fetch()` –≤ Astro

–í—Å–µ [Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã](/ru/core-concepts/astro-components/) –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ [–≥–ª–æ–±–∞–ª—å–Ω–æ–π `fetch()` —Ñ—É–Ω–∫—Ü–∏–∏](https://developer.mozilla.org/en-US/docs/Web/API/fetch) –≤ —Å–∫—Ä–∏–ø—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ APIs. –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏, –∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã —à–∞–±–ª–æ–Ω—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ HTML.

üí° –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ–º [**await –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è**](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await#top_level_await) –≤–Ω—É—Ç—Ä–∏ —Å–∫—Ä–∏–ø—Ç–∞ –≤–∞—à–µ–≥–æ Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

üí° –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Astro –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤, –∫–∞–∫ –ø—Ä–æ–ø—Å—ã.

```astro /await fetch\\(.*?\\)/
---
// src/components/User.astro
import Contact from '../components/Contact.jsx';
import Location from '../components/Location.astro';

const response = await fetch('https://randomuser.me/api/');
const data = await response.json();
const randomUser = data.results[0];
---
<!-- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –≤ HTML -->
<h1>User</h1>
<h2>{randomUser.name.first} {randomUser.name.last}</h2>

<!-- –î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø–µ—Ä–µ–¥–∞–Ω—ã –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–∫ –ø—Ä–æ–ø—Å—ã -->
<Contact client:load email={randomUser.email} />
<Location city={randomUser.location.city} />
```

:::note
–ü–æ–º–Ω–∏—Ç–µ, —á—Ç–æ, Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ –æ–Ω–∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è.

–í–∞—à –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω—ã–π Astro —Å–∞–π—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö **–æ–¥–∏–Ω —Ä–∞–∑, –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏**. –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, –≤—ã —É–≤–∏–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ–≥–¥–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è. –ï—Å–ª–∏ –≤–∞–º –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞](/ru/core-concepts/framework-components/) –∏–ª–∏ [–∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Å–∫—Ä–∏–ø—Ç—ã](/ru/guides/client-side-scripts/) –≤ Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.
:::


## `fetch()` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞

–§—É–Ω–∫—Ü–∏—è `fetch()` –¥–æ—Å—Ç—É–ø–Ω–∞ –≥–ª–æ–±–∞–ª—å–Ω–æ –≤ –ª—é–±–æ–º [–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞](/ru/core-concepts/framework-components/):

```tsx title="src/components/Movies.tsx" /await fetch\\(.*?\\)/
import type { FunctionalComponent } from 'preact';
import { h } from 'preact';

const data = await fetch('https://example.com/movies.json').then((response) =>
  response.json()
);

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –≤—ã–≤–µ–¥—É—Ç –¥–∞–Ω–Ω—ã–µ –≤ CLI.
// –í —Å–ª—É—á–∞–µ —Ä–µ–Ω–¥–µ—Ä–∞ —Å –¥–∏—Ä–µ–∫—Ç–∏–≤–æ–π client:*, –æ–Ω–∏ —Ç–∞–∫–∂–µ –≤—ã–≤–µ–¥—É—Ç –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞.
console.log(data);

const Movies: FunctionalComponent = () => {
// –í—ã–≤–æ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É
  return <div>{JSON.stringify(data)}</div>;
};

export default Movies;
```


## GraphQL –∑–∞–ø—Ä–æ—Å—ã

Astro —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `fetch()` –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ GraphQL —Å–µ—Ä–≤–µ—Ä—É —Å –ª—é–±—ã–º –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º GraphQL –∑–∞–ø—Ä–æ—Å–æ–º.

```astro title="src/components/Weather.astro" "await fetch"
---
const response = await fetch("https://graphql-weather-api.herokuapp.com",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query getWeather($name:String!) {
            getCityByName(name: $name){
              name
              country
              weather {
                summary {
                    description
                }
              }
            }
          }
        `,
      variables: {
          name: "Toronto",
      },
    }),
  });

const json = await response.json();
const weather = json.data;
---
<h1>Fetching Weather at build time</h1>
<h2>{weather.getCityByName.name}, {weather.getCityByName.country}</h2>
<p>Weather: {weather.getCityByName.weather.summary.description}</p>
```

## –ó–∞–ø—Ä–æ—Å—ã –∫ Headless CMS

–ó–∞–ø—Ä–∞—à–∏–≤–∞–π—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç —Å –≤–∞—à–µ–π –ª—é–±–∏–º–æ–π CMS –∫–∞–∫ Storyblok –∏–ª–∏ WordPress!

Astro –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º–æ–≥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å –≤–∞—à–µ–π CMS –∏ –∑–∞—Ç–µ–º —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ò—Å–ø–æ–ª—å–∑—É—è [–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Ä–æ—É—Ç—ã](/ru/core-concepts/routing/#–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ-–ø–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏–∏), –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞–∂–µ –º–æ–≥—É—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—Å–Ω–æ–≤—ã–≤–∞—è—Å—å –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–µ —Å –≤–∞—à–µ–π CMS.

–ù–∏–∂–µ –ø—Ä–∏–º–µ—Ä—ã, –∫–∞–∫ —Ç–∞–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤—ã–≥–ª—è–¥–∏—Ç –≤ Astro, —Å —Å—Å—ã–ª–∫–∞–º–∏ –Ω–∞ –ø–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.

### –ü—Ä–∏–º–µ—Ä: Storyblok API

```astro
---
// src/pages/index.astro
// –ü–æ–ª—É—á–∏—Ç–µ —Å–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–∞—à–∏ Storyblok —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Å –ø–æ–º–æ—â—å—é @storyblok/js
import BaseLayout from '../layouts/BaseLayout.astro';
import { storyblokInit, apiPlugin } from "@storyblok/js";

const { storyblokApi } = storyblokInit({
  accessToken: "MY_STORYBLOK_ACCESS_TOKEN",
  use: [apiPlugin],
});

const { data } = await storyblokApi.get('cdn/links');
const links = Object.values(data.links);
---
<BaseLayout>
  <h1>Astro + Storyblok</h1>
  <ul>
    {links.map(link => (
      <li><a href={link.slug}>{link.name}</a></li>
    ))}
  </ul>
</BaseLayout>
```
–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ Headless CMS –≤ Astro –∑–∞ 5 –º–∏–Ω—É—Ç](https://www.storyblok.com/tp/add-a-headless-cms-to-astro-in-5-minutes) —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å Storyblok –≤ –≤–∞—à Astro –ø—Ä–æ–µ–∫—Ç!

### –ü—Ä–∏–º–µ—Ä: WordPress + GraphQL

```astro
---
// src/pages/about.astro
// –ü–æ–ª—É—á–∏—Ç–µ –∫–æ–Ω—Ç–µ–Ω—Ç —Å –≤–∞—à–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–û –Ω–∞—Å" —Å WordPress API

import BaseLayout from '../../layouts/BaseLayout.astro';

const slug = 'about';
const response = await fetch(import.meta.env.WORDPRESS_API_URL, {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: `
    {
      page(id:"${slug}", idType:URI) {
        title
        content
      }
    }
  `
});
const data = await response.json();
---
<BaseLayout>
  <h1>{data.title}</h1>
  <article set:html={data.content} />
</BaseLayout>
```

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ [–°–æ–∑–¥–∞–Ω–∏–µ Astro –≤–µ–±-—Å–∞–π—Ç–∞ —Å WordPress –∫–∞–∫ Headless CMS](https://blog.openreplay.com/building-an-astro-website-with-wordpress-as-a-headless-cms) —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å WordPress –≤ –≤–∞—à Astro –ø—Ä–æ–µ–∫—Ç!

### –ü—Ä–∏–º–µ—Ä: Crystallize

```astro title="src/pages/index.astro"
---
// –ü–æ–ª—É—á–∏—Ç–µ –ø—É—Ç–∏ –≤–∞—à–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ —Å Crystallize GraphQL API

import BaseLayout from '../../layouts/BaseLayout.astro';
import { createClient } from '@crystallize/js-api-client';

const apiClient = createClient({
  tenantIdentifier: 'furniture'
});

const query = `
  query getCataloguePaths{
    catalogue(language: "en", path: "/shop") {
      name
      children {
        name
        path
      }
    }
  }
`
const { data: { catalogue } } = await apiClient.catalogueApi(query)
---
<BaseLayout>
  <h1>{catalogue.name}</h1>
  <nav>
    <ul>
      {catalogue.children.map(child => (
        <li><a href={child.path}>{child.name}</a></li>
      ))}
    </ul>
  </nav>
</BaseLayout>
```

---
title: Despliega tu proyecto de Astro en Cloudflare Pages
description: C칩mo desplegar tu proyecto de Astro usando Cloudflare Pages.
type: deploy
i18nReady: true
---

Puedes desplegar tu proyecto de Astro en [Cloudflare Pages](https://pages.cloudflare.com/), una plataforma para desarrolladores frontend para colaborar y desplegar sitios web est치ticos (JAMstack) y con renderizado en el servidor (SSR).

Esta gu칤a incluye:

- [C칩mo desplegar a trav칠s del dashboard de Cloudflare Pages](#c칩mo-desplegar-un-proyecto-con-git)
- [C칩mo desplegar usando Wrangler, la CLI de Cloudflare](#c칩mo-desplegar-un-proyecto-usando-wrangler)
- [C칩mo desplegar un proyecto con SSR usando `@astrojs/cloudflare`](#c칩mo-desplegar-un-proyecto-con-ssr)

## Prerrequisitos

Para comenzar, necesitar치s:

- Una cuenta de Cloudflare. Si no tienes una, puedes crear una cuenta gratuita de Cloudflare durante el proceso.
- Tu c칩digo alojado en un repositorio de [GitHub](https://github.com/) o [GitLab](https://about.gitlab.com/).

## C칩mo desplegar un proyecto con Git

1. Crea un nuevo proyecto en Cloudflare Pages.
2. Sube tu c칩digo a un repositorio de git remoto (GitHub, GitLab).
3. Inicia sesi칩n en el dashboard de Cloudflare y selecciona tu cuenta en **Inicio** > **P치ginas**.
4. Selecciona **Crear un proyecto** y la opci칩n de **Con칠ctese a un Git**.
5. Selecciona el proyecto de git que quieres desplegar y haz clic en **Comenzar la instalaci칩n**
6. Usa los siguientes ajustes de compilaci칩n:

    - **Valor preestablecido del marco**: `Astro`
    - **Comando de compilaci칩n:** `npm run build`
    - **Crear directorio de salida:** `dist`

7. Haz clic en el bot칩n **Guardar e implementar**.

## C칩mo desplegar un proyecto usando Wrangler

1. Instala [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/get-started/).
2. Accede en Wrangler con tu cuenta de Cloudflare usando `wrangler login`.
3. Ejecuta tu comando de compilaci칩n.
4. Despliega usando `npx wrangler pages deploy dist`.

```bash
# Instala Wrangler CLI
npm install -g wrangler
# Accede a tu cuenta de Cloudflare desde la CLI
wrangler login
# Ejecuta el comando de compilaci칩n
npm run build
# Crea un nuevo despliegue
npx wrangler pages deploy dist
```

Una vez que tus archivos sean subidos, Wrangler te dar치 una preview URL para inspeccionar tu sitio. Cuando accedas al dashboard de Cloudflare Pages, ver치s tu nuevo proyecto.

### Habilitando Preview localmente con Wrangler

Para que preview funcione, debes instalar `wrangler`

```bash
pnpm install wrangler --save-dev
```

Entonces ser치 posible actualizar el script preview para ejecutar `wrangler` en lugar del comando preview ya integrado en Astro:

```json title="package.json"
"preview": "wrangler pages dev ./dist"
```

## C칩mo desplegar un proyecto con SSR

Puedes construir un proyecto de Astro con SSR para desplegarlo en Cloudflare Pages usando el [adaptador `@astrojs/cloudflare`](/es/guides/integrations-guide/cloudflare/).

Sigue los pasos a continuaci칩n para configurar el adaptador. Puedes desplegar usando cualquiera de las opciones mencionadas anteriormente.

### Instalaci칩n r치pida

A침ade el adaptador de Cloudflare que activa SSR en tu proyecto de Astro con el siguiente comando `astro add` que se muestra debajo. Este instalar치 el adaptador y har치 los cambios apropiados a tu archivo `astro.config.mjs` en un solo paso.

```bash
npx astro add cloudflare
```
### Instalaci칩n manual

Si prefieres instalar el adaptador manualmente, sigue los siguientes pasos:


1. A침adir el adaptador `@astrojs/cloudflare` a las dependencias de tu proyecto usando tu gestor de paquetes preferido. Si est치s usando npm o no est치s seguro, ejecuta esto en la terminal:


    ```bash
    npm install @astrojs/cloudflare
    ```

2. A침adir lo siguiente a tu archivo `astro.config.mjs`:

    ```js title="astro.config.mjs" ins={2, 5-6}
    import { defineConfig } from 'astro/config';
    import cloudflare from '@astrojs/cloudflare';

    export default defineConfig({
      output: 'server',
      adapter: cloudflare()
    });
    ```

### Modos

Actualmente existen dos modos soportados cuando utilizas Pages Functions con el adaptador [`@astrojs/cloudflare`](https://github.com/withastro/astro/tree/main/packages/integrations/cloudflare#readme).

1. Modo **Advanced**: Este modo es usado cuando deseas ejecutar tu funci칩n en modo `advanced` el cual toma el archivo `_worker.js` en `dist`, o un modo directorio donde las p치ginas compilar치n el worker fuera de un directorio de funciones en la ra칤z de tu proyecto.

    Si no hay modo establecido, por defecto ser치 `"advanced"`.

2. Modo **directory**: Este modo es usado cuando deseas ejecutar tu funci칩n en modo `directory`, lo que significa que el adaptador compilar치 la parte del cliente de tu app del mismo modo, pero mover치 el script de worker dentro de un directorio `functions` en la ra칤z de tu proyecto. El adaptador solo colocar치 un `[[path]].js` en ese directorio, permiti칠ndote a침adir plugins adicionales y middleware que se puede verificar en el control de versiones.

    ```ts title="astro.config.mjs" "directory"
    export default defineConfig({
      adapter: cloudflare({ mode: "directory" }),
    });
    ```
### Usando Pages Functions

[Pages Functions](https://developers.cloudflare.com/pages/platform/functions/) te permiten ejecutar c칩digo en el servidor para habilitar funcionalidades din치micas sin ejecutar un servidor dedicado.

Para comenzar, crea un directorio `/functions` en la ra칤z de tu proyecto. Al escribir tus archivos de funciones en este directorio generar치 de forma autom치tica un Worker con funcionalidad personalizada en las rutas previamente designadas. Para aprender m치s sobre las funciones, consulta la [documentaci칩n de Pages Functions](https://developers.cloudflare.com/pages/platform/functions/).

游닄 Aprende m치s sobre [SSR en Astro](/es/guides/server-side-rendering/).

## Soluci칩n de problemas

Si encuentras errores, vuelve a verificar que la versi칩n de `node` que est치s usando localmente (`node -v`) coincida con la versi칩n que est치s especificando en la variable de entorno.

Cloudflare requiere [Node v16.13](https://miniflare.dev/get-started/cli#installation), la cual es una versi칩n m치s reciente que el m칤nimo por defecto de Astro, as칤 que verifica que est칠s usando al menos v16.13.

La hidrataci칩n del lado del cliente puede fallar como resultado de la configuraci칩n de Auto Minify de Cloudflare. Si ves `Hydration completed but contains mismatches` en la consola, aseg칰rate de deshabilitar Auto Minify en la configuraci칩n de Cloudflare.

---
title: Ver√∂ffentliche deine Astro-Seite auf Cloudflare Pages 
description: Wie du deine Astro-Website mit Cloudflare Pages ins Internet stellst.
type: deploy
i18nReady: true
---

Du kannst dein Astro-Projekt auf [Cloudflare Pages](https://pages.cloudflare.com/) bereitstellen, einer Plattform f√ºr Frontend-Entwickler zur Zusammenarbeit und Bereitstellung statischer (JAMstack) und SSR-Webseiten.

Diese Anleitung enth√§lt:

- [Wie du √ºber das Cloudflare Pages Dashboard ver√∂ffentlichst](#wie-man-eine-website-mit-git-ver√∂ffentlicht)
- [Wie man mit Wrangler, dem Cloudflare CLI, ver√∂ffentlicht](#wie-man-eine-website-mit-wrangler-ver√∂ffentlicht)
- [Wie man eine SSR-Seite mit `@astrojs/cloudflare` ver√∂ffentlicht](#wie-man-eine-ssr-seite-ver√∂ffentlicht)

## Voraussetzungen

Um loszulegen, brauchst du Folgendes:

- Ein Cloudflare-Konto. Wenn du noch keins hast, kannst du w√§hrend des Prozesses ein kostenloses Cloudflare-Konto erstellen.
- Dein App-Code wird in ein [GitHub](https://github.com/) oder ein [GitLab](https://about.gitlab.com/) Repository gepusht.

## Wie man eine Website mit Git ver√∂ffentlicht

1. Richte ein neues Projekt auf Cloudflare Pages ein.
2. Pushe deinen Code in dein Git-Repository (GitHub, GitLab).
3. Melde dich im Cloudflare-Dashboard an und w√§hle dein Konto unter **Konto-Startseite** > **Seiten** aus.
4. W√§hle **Ein neues Projekt erstellen** und die Option **Git verbinden**.
5. W√§hle das Git-Projekt aus, das du einrichten willst, und klicke auf **Einrichtung beginnen**
6. Verwende die folgenden Build-Einstellungen:

    - **Framework-Voreinstellung**: `Astro`
    - **Build-Befehl:** `npm run build`
    - **Build-Ausgabeverzeichnis:** `dist`
    - **Umgebungsvariablen (erweitert)**: Standardm√§√üig verwendet Cloudflare Pages Node.js 12.18.0, aber Astro [erfordert eine h√∂here Version](/de/install/auto/#voraussetzungen). F√ºge eine Umgebungsvariable mit einem **Variablennamen** von `NODE_VERSION` und einem **Wert** von `v16.13.0` oder h√∂her hinzu, um Cloudflare anzuweisen, eine kompatible Node-Version zu verwenden. Alternativ kannst du auch eine `.nvmrc`-Datei zu deinem Projekt hinzuf√ºgen, um eine Node-Version anzugeben.

7. Klicke auf die Schaltfl√§che **Speichern und bereitstellen**.

## Wie man eine Website mit Wrangler ver√∂ffentlicht

1. Installiere [Wrangler CLI](https://developers.cloudflare.com/workers/wrangler/get-started/).
2. Authentifiziere Wrangler mit deinem Cloudflare-Konto mit `Wrangler Login`.
3. F√ºhre deinen Build-Befehl aus.
4. Ver√∂ffentliche mit `npx wrangler pages publish dist`.

```bash
# Wrangler CLI installieren
npm install -g wrangler
# Anmeldung beim Cloudflare-Konto √ºber CLI
wrangler login
# Run your build command
npm run build
# Neues Deployment erstellen
npx wrangler pages publish dist
```

Nachdem du deine Assets hochgeladen hast, gibt dir Wrangler eine Vorschau-URL, mit der du deine Seite √ºberpr√ºfen kannst. Wenn du dich in das Cloudflare Pages Dashboard einloggst, siehst du dein neues Projekt.

### Lokale Vorschau mit Wrangler aktivieren

Damit die Vorschau funktioniert, musst du `wrangler` installieren

```bash
pnpm install wrangler --save-dev
```

Es ist dann m√∂glich, das Vorschauskript zu aktualisieren, um `wrangler` anstelle des in Astro eingebauten Vorschau-Befehls auszuf√ºhren:


```json title="package.json"
"preview": "wrangler pages dev ./dist"
```

## Wie man eine SSR-Seite ver√∂ffentlicht

Du kannst eine Astro SSR-Seite f√ºr den Einsatz auf Cloudflare Pages mit dem [`@astrojs/cloudflare` adapter](/de/guides/integrations-guide/cloudflare/) erstellen.

Befolge die folgenden Schritte, um den Adapter einzurichten. Du kannst dann eine der beiden oben beschriebenen Methoden anwenden.

### Schnelle Installation

F√ºge den Cloudflare-Adapter hinzu, um SSR in deinem Astro-Projekt mit dem folgenden `astro add`-Befehl zu aktivieren. Damit installierst du den Adapter und nimmst in einem Schritt die entsprechenden √Ñnderungen an deiner Datei `astro.config.mjs` vor.

```bash
npx astro add cloudflare
```

### Manuelle Installation

Wenn du den Adapter stattdessen lieber manuell installieren m√∂chtest, f√ºhre die folgenden zwei Schritte aus:

1. F√ºge den Adapter `@astrojs/cloudflare` mit deinem bevorzugten Paketmanager zu den Abh√§ngigkeiten deines Projekts hinzu. Wenn du npm verwendest oder dir nicht sicher bist, f√ºhre dies im Terminal aus:

    ```bash
    npm install @astrojs/cloudflare
    ```

2. F√ºge Folgendes zu deiner Datei `astro.config.mjs` hinzu:

    ```js title="astro.config.mjs" ins={2, 5-6}
    import { defineConfig } from 'astro/config';
    import cloudflare from '@astrojs/cloudflare';

    export default defineConfig({
      output: 'server',
      adapter: cloudflare()
    });
    ```

### Modi

Derzeit werden zwei Modi bei der Verwendung von Pages Functions mit dem [`@astrojs/cloudflare`](https://github.com/withastro/astro/tree/main/packages/integrations/cloudflare#readme) Adapter unterst√ºtzt.

1. **Erweiterter** Modus: Dieser Modus wird verwendet, wenn du deine Funktion im `erweiterten` Modus ausf√ºhren willst, der die `_worker.js` in `dist` aufnimmt, oder einen Verzeichnismodus, bei dem Pages den Worker aus einem Funktionsordner im Projektstamm kompiliert.  

    Wenn kein Modus eingestellt ist, ist der Standardwert `Erweitert`.

2. **Verzeichnis**-Modus: Dieser Modus wird verwendet, wenn du deine Funktion im `Verzeichnis`-Modus ausf√ºhren willst. Das bedeutet, dass der Adapter den clientseitigen Teil deiner App auf die gleiche Weise kompiliert, aber das Worker-Skript in einen `Funktions`-Ordner im Projektstamm verschiebt. Der Adapter legt in diesem Ordner immer nur eine `[[Pfad]].js` ab, so dass du zus√§tzliche Plugins und Seiten-Middleware hinzuf√ºgen kannst, die in die Versionskontrolle eingecheckt werden k√∂nnen.

    ```ts title="astro.config.mjs" "directory"
    export default defineConfig({
      adapter: cloudflare({ mode: "directory" }),
    });
    ```
### Seitenfunktionen verwenden

Mit [Seitenfunktionen] (https://developers.cloudflare.com/pages/platform/functions/) kannst du serverseitigen Code ausf√ºhren, um dynamische Funktionen zu erm√∂glichen, ohne einen eigenen Server zu betreiben.

Um loszulegen, erstelle ein Verzeichnis `/functions` im Stammverzeichnis deines Projekts. Wenn du deine Funktionsdateien in dieses Verzeichnis schreibst, wird automatisch ein Worker mit benutzerdefinierten Funktionen f√ºr die vorgegebenen Routen erstellt. Mehr √ºber das Schreiben von Funktionen erf√§hrst du in der [Pages Functions Dokumentation](https://developers.cloudflare.com/pages/platform/functions/).

üìö Lies mehr √ºber [SSR in Astro](/de/guides/server-side-rendering/).

## Fehlerbehandlung

Wenn du auf Fehler st√∂√üt, √ºberpr√ºfe, ob die Version von `node`, die du lokal verwendest (`node -v`), mit der Version √ºbereinstimmt, die du in der Umgebungsvariable angibst.

Cloudflare ben√∂tigt [Node v16.13](https://miniflare.dev/get-started/cli#installation), eine neuere Version als die Standardversion von Astro, also √ºberpr√ºfe, ob du mindestens v16.13 verwendest.

Die clientseitige Hydratisierung kann aufgrund der Einstellung "Auto Minify" von Cloudflare fehlschlagen. Wenn du in der Konsole die Meldung "Hydration completed but contains mismatches" siehst, stelle sicher, dass du Auto Minify in den Cloudflare-Einstellungen deaktivierst.

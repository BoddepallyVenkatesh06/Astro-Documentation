---
title: Composants Layout
description: Une introduction aux composants Layouts, un type de composant Astro qui est partag√© entre les pages pour des mod√®les communs.
i18nReady: true
---

Les **Layouts** (ou "mise-en-pages" en fran√ßais) sont des [composants Astro](/fr/core-concepts/astro-components/) utilis√©s pour fournir une structure d'interface utilisateur r√©utilisable, comme un mod√®le de page.

Par convention, nous utilisons le terme "mise en page" pour les composants Astro qui fournissent des √©l√©ments d'interface utilisateur commune √† toutes les pages, tels que les en-t√™tes, les barres de navigation et les pieds de page. Un composant de mise en page typique d'Astro fournit [aux pages Astro, Markdown ou MDX](/fr/core-concepts/astro-pages/) les √©l√©ments suivants :
- une **page shell** (`balises <html>`, `<head>` et `<body>`)
- un [**`<slot />`**](/fr/core-concepts/astro-components/#les-emplacements-slots) pour sp√©cifier o√π le contenu de chaque page doit √™tre inject√©.

Mais, un composant de mise en page n'a rien de sp√©cial ! Ils peuvent [accepter des propri√©t√©s](/fr/core-concepts/astro-components/#props-de-composant) et [importer et utiliser d'autres composants](/fr/core-concepts/astro-components/#structure-du-composant) comme n'importe quel autre composant Astro. Ils peuvent inclure [des composants de frameworks d'interface utilisateur](/fr/core-concepts/framework-components/) et [des scripts c√¥t√© client](/fr/guides/client-side-scripts/). Ils ne sont m√™me pas oblig√©s de fournir une page shell compl√®te, et peuvent plut√¥t √™tre utilis√©s comme des mod√®les d'interface utilisateur partielle.

Les composants de mise en pages sont g√©n√©ralement plac√©s dans un dossier `src/layouts` dans votre projet pour l'organisation, mais ce n'est pas une obligation; vous pouvez choisir de les placer n'importe o√π dans votre projet. Vous pouvez m√™me placer des composants de mise en page √† c√¥t√© de vos pages en [pr√©fixant les noms de mise en page par `_`](/fr/core-concepts/routing/#exclure-des-pages).

## Exemple de composant de mise en page

```astro "<slot />" 
---
// src/layouts/MySiteLayout.astro
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
const { title } = Astro.props
---
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <BaseHead title={title}/>
  </head>
  <body>
    <nav>
      <a href="#">Accueil</a>
      <a href="#">Articles</a>
      <a href="#">Contact</a>
    </nav>
    <h1>{title}</h1>
    <article>
      <slot /> <!-- Votre contenu est inject√© ici -->
    </article>
    <Footer />
  </body>
</html>
```

```astro title="src/pages/index.astro"
---
import MySiteLayout from '../layouts/MySiteLayout.astro';
---
<MySiteLayout title="Page d'accueil">
  <p>Le contenu de ma page, envelopp√© dans un composant de mise en page !</p>
</MySiteLayout>
```


üìö Apprenez-en plus sur [les Slots](/fr/core-concepts/astro-components/#les-emplacements-slots).

## Mises en page Markdown/MDX

Les composants de mise en page sont particuli√®rement utiles pour [les pages Markdown et MDX](/fr/guides/markdown-content/#pages-markdown-et-mdx) qui, autrement, n'auraient pas de formatage de page.

Astro fournit une propri√©t√© sp√©ciale `layout` frontmatter pour sp√©cifier le composant `.astro` √† utiliser comme mise en page.

```markdown title="src/pages/page.md" {2} 
---
layout: ../layouts/BaseLayout.astro
title: "Hello, World!"
author: "Matthew Phillips"
date: "09 Aug 2022"
---
Toutes les propri√©t√©s de frontmatter sont disponibles comme propri√©t√©s pour un composant de mise en page Astro.

La propri√©t√© `layout` est la seule propri√©t√© sp√©ciale fournie par Astro.

Vous pouvez l'utiliser dans les fichiers Markdown et MDX situ√©s dans `src/pages/`.

```

Une mise en page typique pour les pages Markdown ou MDX inclut :

1. La propri√©t√© `frontmatter` pour acc√©der au frontmatter et aux autres donn√©es de la page Markdown ou MDX.
2. Un [`<slot />`](/fr/core-concepts/astro-components/#les-emplacements-slots) par d√©faut pour indiquer o√π le contenu Markdown/MDX de la page doit √™tre rendu.

```astro /(?<!//.*){?frontmatter(?:\\.\w+)?}?/ "<slot />"
---
// src/layouts/BaseLayout.astro
// 1. La propri√©t√© frontmatter vous donne acc√®s au frontmatter et aux autres donn√©es
const { frontmatter } = Astro.props;
---
<html>
  <head>
    <!-- Ajoutez d'autres √©l√©ments Head ici, comme l'√©l√©ment styles et les balises meta. -->
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <!-- Ajoutez d'autres composants d'interface utilisateur ici, comme les en-t√™tes et les pieds de page communs. --> 
    <h1>{frontmatter.title} by {frontmatter.author}</h1>
    <!-- 2. Le HTML rendu sera pass√© dans le slot par d√©faut. -->
    <slot />
    <p>√âcrit le : {frontmatter.date}</p>
  </body>
</html>
```

Vous pouvez d√©finir le [type `Props`](/fr/guides/typescript/#propri√©t√©s-de-composant) d'une mise en page, avec l'helper `MarkdownLayoutProps` ou `MDXLayoutProps` :

```astro title="src/layouts/BaseLayout.astro" ins={2,4-9}
---
import type { MarkdownLayoutProps } from 'astro';

type Props = MarkdownLayoutProps<{
  // D√©finir les propri√©t√©s de frontmatter ici
  title: string;
  author: string;
  date: string;
}>;

// Maintenant, `frontmatter`, `url`, et autres propri√©t√©s de mise en page Markdown
// sont accessibles avec une s√©curit√© de type
const { frontmatter, url } = Astro.props;
---
<html>
  <head>
    <link rel="canonical" href={new URL(url, Astro.site).pathname}>
    <title>{frontmatter.title}</title>
  </head>
  <body>
    <h1>{frontmatter.title} by {frontmatter.author}</h1>
    <slot />
    <p>Written on: {frontmatter.date}</p>
  </body>
</html>
```

### Propri√©t√©s de mise en page Markdown

Une mise en page Markdown/MDX aura acc√®s aux informations suivantes via `Astro.props` :

- **`file`** - Le chemin absolu de ce fichier (exemple : `/home/user/projects/.../file.md`).
- **`url`** - Si c'est une page, l'URL de cette page (exemple : `/fr/guides/markdown-content`).
- **`frontmatter`** - Tous les √©l√©ments frontmatter du document Markdown ou MDX.
  - **`frontmatter.file`** - Identique √† la propri√©t√© `file` de premier niveau.
  - **`frontmatter.url`** - Identique √† la propri√©t√© `url` de premier niveau.
- **`headings`** - Une liste de titre (`h1 -> h6`) dans le document Markdown ou MDX avec les m√©tadonn√©es associ√©es. Cette liste suit le type : `{ depth: number; slug: string; text: string }[]`.
- **(Markdown only) `rawContent()`** - Une fonction qui renvoie le document Markdown brut sous forme de chaine de caract√®res.
- **(Markdown only) `compiledContent()`** - Une fonction qui renvoie le document Markdown compil√© en tant que chaine de caract√®res HTML.

Un exemple de billet de blog en format Markdown peut transmettre l'objet `Astro.props` suivant √† sa mise en page :

```js
Astro.props = {
  file: "/home/user/projects/.../file.md",
  url: "/fr/guides/markdown-content/",
  frontmatter: {
    /** Frontmatter depuis un article de blog */
    title: "Astro 0.18 Release",
    date: "Tuesday, July 27 2021",
    author: "Matthew Phillips",
    description: "Astro 0.18 is our biggest release since Astro launch.",
    /** Valeurs g√©n√©r√©es */
    file: "/home/user/projects/.../file.md",
    url: "/fr/guides/markdown-content/"
  },
  headings: [
    {
      "depth": 1,
      "text": "Astro 0.18 Release",
      "slug": "astro-018-release"
    },
    {
      "depth": 2,
      "text": "Responsive partial hydration",
      "slug": "responsive-partial-hydration"
    }
    /* ... */
  ],

  /** Disponible en Markdown uniquement */
  rawContent: () => "# Astro 0.18 Release\nIl y a un peu plus d'un mois, la premi√®re b√™ta publique [...]",
  compiledContent: () => "<h1>Astro 0.18 Release</h1>\n<p>Il y a un peu plus d'un mois, la premi√®re b√™ta publique [...]</p>",
}
```

:::note
Une mise en page Markdown/MDX aura acc√®s √† toutes les [propri√©t√©s export√©es de son fichier](/fr/guides/markdown-content/#propri√©t√©s-export√©es) depuis `Astro.props` **avec quelques diff√©rences essentielles :**

*   Informations sur l'en-t√™te (c.-√†-d. les √©l√©ments `h1 -> h6`) sont disponibles via le tableau `headings`, plut√¥t qu'une fonction `getHeadings()`.

*   `file` et `url` sont *aussi* disponibles comme propri√©t√©s `frontmatter` imbriqu√©es (c.-√†-d. `frontmatter.url` et `frontmatter.file`).

*   Valeurs d√©finies en dehors de frontmatter (par exemple la d√©claration `export` en MDX) ne sont pas disponibles. Pensez √† [importer une mise en page](#importation-manuelle-de-mises-en-page-mdx) √† la place.
:::

### Importation manuelle de mises en page (MDX)

Vous pouvez avoir besoin de transmettre √† votre mise en page MDX des informations qui n'existent pas (ou ne peuvent pas exister) dans votre frontmatter. Dans ce cas, vous pouvez √† la place importer et utiliser un [composant `<Layout />`](/fr/core-concepts/layouts/) et lui passer des propri√©t√©s comme n'importe quel autre composant :

```mdx title="src/pages/posts/first-post.mdx" ins={6} del={2} /</?BaseLayout>/ /</?BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>/
---
layout: ../../layouts/BaseLayout.astro
title: 'Mon premier billet sur le MDX'
publishDate: '21 September 2022'
---
import BaseLayout from '../../layouts/BaseLayout.astro';

function fancyJsHelper() {
  return "Essayez de faire cela avec YAML !";
}

<BaseLayout title={frontmatter.title} fancyJsHelper={fancyJsHelper}>
  Bienvenue sur mon nouveau blog Astro, utilisant MDX !
</BaseLayout>
```

Ensuite, vos valeurs sont disponibles √† travers `Astro.props` dans votre mise en page, et votre contenu MDX va √™tre inject√© dans la page o√π votre composant `<slot />` est √©crit : 

```astro /{?title}?/ "fancyJsHelper" "{fancyJsHelper()}"
---
// src/layouts/BaseLayout.astro
const { title, fancyJsHelper } = Astro.props;
---
<!-- -->
<h1>{title}</h1>
<slot /> <!-- votre contenu est inject√© ici -->
<p>{fancyJsHelper()}</p>
<!-- -->
```

üìö Pour en savoir plus sur la prise en charge de Markdown et de MDX par Astro, consultez notre [guide Markdown/MDX](/fr/guides/markdown-content/).

## Utilisation d'une mise en page unique pour les fichiers `.md`, `.mdx` et `.astro`.

Une unique mise en page Astro peut √™tre √©crite pour recevoir l'objet `frontmatter` des fichiers `.md` et `.mdx`, ainsi que toutes les propri√©t√©s nomm√©es, pass√©es depuis les fichiers `.astro`.

Dans l'exemple ci-dessous, la mise en page va afficher le titre de la page, soit depuis la propri√©t√© YAML `title` de frontmatter, soit depuis un composant Astro passant un attribut `title` :

```astro /{?title}?/ /Astro.props[.a-z]*/
---
// src/components/MyLayout.astro
const { title } = Astro.props.frontmatter || Astro.props;
---
<html>
  <head></head>
  <body>
    <h1>{title}</h1>
    <slot />
  </body>
</html>
```

## Mises en page d'embo√Ætement

Les composants de mises en pages ne doivent pas n√©cessairement contenir une page enti√®re de HTML. Vous pouvez d√©composer vos mises en page en composants plus petits et combiner des composants de mises en page pour cr√©er des templates de page encore plus flexibles. Ce mod√®le est utile lorsque vous souhaitez partager du code entre plusieurs mises en page.

Par exemple, un composant de mise en page `BlogPostLayout.astro` peut styliser le titre, la date et l'auteur d'un article. Ensuite, un `BaseLayout.astro` pour tout le site pourrait g√©rer le reste de votre template de page, comme la navigation, les pieds de page, les balises m√©ta SEO, les styles globaux, et les polices de caract√®res. Vous pouvez √©galement transmettre les propri√©t√©s re√ßues de votre message √† une autre mise en page, comme tout autre composant imbriqu√©.

```astro {3} /</?BaseLayout>/ /</?BaseLayout url={frontmatter.url}>/
---
// src/layouts/BlogPostLayout.astro
import BaseLayout from './BaseLayout.astro'
const {frontmatter} = Astro.props;
---
<BaseLayout url={frontmatter.url}>
  <h1>{frontmatter.title}</h1>
  <h2>Auteur du billet : {frontmatter.author}</h2>
  <slot />
</BaseLayout>
```
